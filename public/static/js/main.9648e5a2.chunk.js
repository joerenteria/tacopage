(this["webpackJsonpphase-4-rails-putting-it-all-together-auth-client"]=this["webpackJsonpphase-4-rails-putting-it-all-together-auth-client"]||[]).push([[0],{40:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(20),c=n(1),s=n(21),r=n.n(s),i=n(2),l=n(3),j=n(5),o=n(0);var u=function(e){var t=e.user,n=e.setUser;return Object(o.jsxs)("div",{className:"navbar",children:[Object(o.jsx)("div",{className:"logo",children:"\ud83c\udf2e TacoPage"}),Object(o.jsxs)("div",{className:"navslide",children:[Object(o.jsx)(j.b,{className:"link1",as:j.b,to:"/signup",children:"Sign up"}),t?Object(o.jsx)(j.b,{className:"link1",to:"/",onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){e.ok&&n(null)}))},children:"Log out"}):Object(o.jsx)(j.b,{className:"link1",as:j.b,to:"/login",children:"Log in"}),t?Object(o.jsx)(j.b,{className:"link1",as:j.b,to:"/account",children:"My pages"}):""]})]})};var b=function(e){var t=e.onLogin,n=Object(c.useState)(""),a=Object(i.a)(n,2),s=a[0],r=a[1],j=Object(c.useState)(""),u=Object(i.a)(j,2),b=u[0],O=u[1],h=Object(c.useState)([]),d=Object(i.a)(h,2),m=d[0],x=d[1],g=Object(c.useState)(!1),p=Object(i.a)(g,2),f=p[0],v=p[1],y=Object(l.f)();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Log in"}),Object(o.jsxs)("form",{className:"form1",onSubmit:function(e){e.preventDefault(),v(!0),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:b})}).then((function(e){v(!1),e.ok?e.json().then((function(e){return t(e)})).then((function(){return y.push("/account")})):e.json().then((function(e){return x(e.errors)}))}))},children:[Object(o.jsx)("label",{htmlFor:"email",children:"email"}),Object(o.jsx)("input",{type:"text",id:"email",autoComplete:"off",value:s,onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"password",children:"password"}),Object(o.jsx)("input",{type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){return O(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"link1",variant:"fill",color:"primary",type:"submit",children:f?"Loading...":"Submit"}),m.map((function(e){return Object(o.jsx)("div",{className:"error",children:e},e)}))]})]})};var O=function(e){return e.user,e.setUser,Object(o.jsxs)("div",{class:"footer",children:["Copyright \xa9 2021 \ud83c\udf2e ",Object(o.jsx)("span",{className:"logofooter",children:"TacoPage"})]})};var h=function(e){var t=e.onLogin;return Object(o.jsxs)("div",{className:"page1",children:[Object(o.jsx)(b,{onLogin:t}),Object(o.jsx)(O,{})]})},d=n(26);var m=function(e){var t=e.user,n=Object(c.useState)([]),a=Object(i.a)(n,2),s=a[0],r=a[1],u=Object(c.useState)({}),b=Object(i.a)(u,2),h=b[0],m=b[1],x=Object(c.useState)(!1),g=Object(i.a)(x,2),p=g[0],f=g[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),N=y[0],S=y[1],C=Object(c.useState)(""),w=Object(i.a)(C,2),k=w[0],F=w[1],L=Object(c.useState)(""),T=Object(i.a)(L,2),P=T[0],E=T[1],J=Object(c.useState)(""),U=Object(i.a)(J,2),q=U[0],D=U[1],_=Object(c.useState)(""),H=Object(i.a)(_,2),M=H[0],R=H[1],A=Object(c.useState)(""),B=Object(i.a)(A,2),G=B[0],I=B[1],Y=Object(c.useState)(""),z=Object(i.a)(Y,2),W=z[0],K=z[1],Q=Object(c.useState)(""),V=Object(i.a)(Q,2),X=V[0],Z=V[1],$=Object(c.useState)(""),ee=Object(i.a)($,2),te=ee[0],ne=ee[1];return Object(l.f)(),Object(c.useEffect)((function(){fetch("/api/pages").then((function(e){return e.json()})).then(r)}),[]),Object(o.jsxs)("div",{className:"page1",children:[Object(o.jsx)("h1",{children:"My pages"}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"user",children:["user: ",t?t.email:""]}),Object(o.jsx)(j.b,{className:"link1",as:j.b,to:"/new",children:"Create new page"})]}),t?Object(o.jsxs)(o.Fragment,{children:[s.map((function(e){return Object(o.jsxs)("div",{className:"tinypage",children:[Object(o.jsxs)("div",{className:"edittitle",children:[e.title1,"    "]}),Object(o.jsx)(j.b,{className:"link1",onClick:function(){return t=e.id,void fetch("/api/pages/".concat(t)).then((function(e){return e.json()})).then((function(e){m(e),S(e.title1),F(e.image1),E(e.content1),D(e.title2),R(e.image2),I(e.content2),K(e.title3),Z(e.image3),ne(e.content3)})).then((function(){f(!0)}));var t},children:"edit"},e.id),Object(o.jsx)("a",{className:"link1",target:"_blank",href:e.directory,children:"visit"}),Object(o.jsx)("button",{className:"link1",onClick:function(){var t,n;t=e.id,n=e.directory,fetch("/api/pages/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({directory:n,title1:N,image1:k,content1:P,title2:q,image2:M,content2:G,title3:W,image3:X,content3:te})}),function(e){var t=s.filter((function(t){return t.id!==e}));r(Object(d.a)(t)),m({})}(e.id)},children:"delete"})]})})),p?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("hr",{}),Object(o.jsx)("h1",{children:h.title1}),Object(o.jsxs)("form",{className:"form1",children:[Object(o.jsxs)("label",{htmlFor:"title1",children:["title ",Object(o.jsx)("span",{className:"blue",children:"*required"})]}),Object(o.jsx)("input",{type:"text",id:"title1",value:N,onChange:function(e){return S(e.target.value)}}),Object(o.jsxs)("label",{htmlFor:"image",children:["image url - ",Object(o.jsx)("a",{target:"_blank",href:"https://www.wikihow.com/Get-the-URL-for-Pictures",children:"get an image url"})]}),Object(o.jsx)("input",{type:"text",id:"image1",value:k,onChange:function(e){return F(e.target.value)}}),Object(o.jsx)("img",{className:"imageform",src:k}),Object(o.jsxs)("label",{htmlFor:"content1",children:["text ",Object(o.jsx)("span",{className:"blue",children:"*required"})]}),Object(o.jsx)("textarea",{id:"content1",rows:"5",value:P,onChange:function(e){return E(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"title2",children:"title"}),Object(o.jsx)("input",{type:"text",id:"title2",value:q,onChange:function(e){return D(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"image2",children:"image url"}),Object(o.jsx)("input",{type:"text",id:"image2",value:M,onChange:function(e){return R(e.target.value)}}),Object(o.jsx)("img",{className:"imageform",src:M}),Object(o.jsx)("label",{htmlFor:"content2",children:"text"}),Object(o.jsx)("textarea",{id:"content2",rows:"5",value:G,onChange:function(e){return I(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"title3",children:"title"}),Object(o.jsx)("input",{type:"text",id:"title3",value:W,onChange:function(e){return K(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"image3",children:"image url"}),Object(o.jsx)("input",{type:"text",id:"image3",value:X,onChange:function(e){return Z(e.target.value)}}),Object(o.jsx)("img",{className:"imageform",src:X}),Object(o.jsx)("label",{htmlFor:"content3",children:"text"}),Object(o.jsx)("textarea",{id:"content3",rows:"5",value:te,onChange:function(e){return ne(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"link1",onClick:function(){return e=h.id,t=h.directory,void fetch("/api/pages/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({directory:t,title1:N,image1:k,content1:P,title2:q,image2:M,content2:G,title3:W,image3:X,content3:te})});var e,t},children:"Save"})]})]}):""]}):Object(o.jsx)("span",{className:"blue",children:"You must be logged in to see your pages..."}),Object(o.jsx)(O,{})]})};var x=function(e){var t=e.user,n=Object(c.useState)(""),a=Object(i.a)(n,2),s=a[0],r=a[1],j=Object(c.useState)(""),u=Object(i.a)(j,2),b=u[0],h=u[1],d=Object(c.useState)(""),m=Object(i.a)(d,2),x=m[0],g=m[1],p=Object(c.useState)(""),f=Object(i.a)(p,2),v=f[0],y=f[1],N=Object(c.useState)(""),S=Object(i.a)(N,2),C=S[0],w=S[1],k=Object(c.useState)(""),F=Object(i.a)(k,2),L=F[0],T=F[1],P=Object(c.useState)(""),E=Object(i.a)(P,2),J=E[0],U=E[1],q=Object(c.useState)(""),D=Object(i.a)(q,2),_=D[0],H=D[1],M=Object(c.useState)(""),R=Object(i.a)(M,2),A=R[0],B=R[1],G=Object(c.useState)(""),I=Object(i.a)(G,2),Y=I[0],z=I[1],W=Object(c.useState)(!1),K=Object(i.a)(W,2),Q=K[0],V=K[1],X=Object(c.useState)([]),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.f)();return Object(o.jsxs)("div",{className:"page1",children:[Object(o.jsx)("h1",{children:"Create page"}),t?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{className:"form1",onSubmit:function(e){e.preventDefault(),V(!0),fetch("/api/pages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({directory:s,title1:b,content1:v,image1:x,title2:C,content2:J,image2:L,title3:_,content3:Y,image3:A})}).then((function(e){V(!1),e.ok?te.push("/account"):e.json().then((function(e){return ee(e.errors)}))}))},children:[Object(o.jsxs)("label",{htmlFor:"directory",children:["page name ",Object(o.jsx)("span",{className:"blue",children:"*required, no spaces or special characters"})]}),Object(o.jsx)("input",{type:"text",id:"directory",value:s,onChange:function(e){return r(e.target.value)}}),Object(o.jsxs)("label",{htmlFor:"title1",children:["title ",Object(o.jsx)("span",{className:"blue",children:"*required"})]}),Object(o.jsx)("input",{type:"text",id:"title1",value:b,onChange:function(e){return h(e.target.value)}}),Object(o.jsxs)("label",{htmlFor:"image",children:["image url - ",Object(o.jsx)("a",{target:"_blank",href:"https://www.wikihow.com/Get-the-URL-for-Pictures",children:"get an image url"})]}),Object(o.jsx)("input",{type:"text",id:"image1",value:x,onChange:function(e){return g(e.target.value)}}),Object(o.jsx)("img",{className:"imageform",src:x}),Object(o.jsxs)("label",{htmlFor:"content1",children:["text ",Object(o.jsx)("span",{className:"blue",children:"*required"})]}),Object(o.jsx)("textarea",{id:"content1",rows:"5",value:v,onChange:function(e){return y(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"title2",children:"title"}),Object(o.jsx)("input",{type:"text",id:"title2",value:C,onChange:function(e){return w(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"image",children:"image url"}),Object(o.jsx)("input",{type:"text",id:"image2",value:L,onChange:function(e){return T(e.target.value)}}),Object(o.jsx)("img",{className:"imageform",src:L}),Object(o.jsx)("label",{htmlFor:"content2",children:"text"}),Object(o.jsx)("textarea",{id:"content2",rows:"5",value:J,onChange:function(e){return U(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"title3",children:"title"}),Object(o.jsx)("input",{type:"text",id:"title3",value:_,onChange:function(e){return H(e.target.value)}}),Object(o.jsx)("label",{htmlFor:"image3",children:"image url"}),Object(o.jsx)("input",{type:"text",id:"image3",value:A,onChange:function(e){return B(e.target.value)}}),Object(o.jsx)("img",{className:"imageform",src:A}),Object(o.jsx)("label",{htmlFor:"content3",children:"text"}),Object(o.jsx)("textarea",{id:"content3",rows:"5",value:Y,onChange:function(e){return z(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"link1",type:"submit",children:Q?"Loading...":"Submit"}),$.map((function(e){return Object(o.jsx)("div",{className:"error",children:e},e)}))]})}):Object(o.jsx)("span",{className:"blue",children:"You must be logged in to create a page..."}),Object(o.jsx)(O,{})]})};var g=function(e){var t=e.onLogin,n=Object(c.useState)(""),a=Object(i.a)(n,2),s=a[0],r=a[1],j=Object(c.useState)(""),u=Object(i.a)(j,2),b=u[0],O=u[1],h=Object(c.useState)(""),d=Object(i.a)(h,2),m=d[0],x=d[1],g=Object(c.useState)([]),p=Object(i.a)(g,2),f=p[0],v=p[1],y=Object(c.useState)(!1),N=Object(i.a)(y,2),S=N[0],C=N[1],w=Object(l.f)();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Sign up"}),Object(o.jsxs)("form",{className:"form1",onSubmit:function(e){e.preventDefault(),v([]),C(!0),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:b,password_confirmation:m})}).then((function(e){C(!1),e.ok?(e.json().then((function(e){return t(e)})),w.push("/account")):e.json().then((function(e){return v(e.errors)}))}))},children:[Object(o.jsx)("label",{htmlFor:"email",children:"email"}),Object(o.jsx)("input",{type:"text",id:"email",autoComplete:"off",value:s,onChange:function(e){return r(e.target.value)}}),Object(o.jsxs)("label",{htmlFor:"password",children:["password ",Object(o.jsx)("span",{className:"blue",children:"*no spaces"})]}),Object(o.jsx)("input",{type:"password",id:"password",value:b,onChange:function(e){return O(e.target.value)},autoComplete:"current-password"}),Object(o.jsx)("label",{htmlFor:"password",children:"confirm password"}),Object(o.jsx)("input",{type:"password",id:"password_confirmation",value:m,onChange:function(e){return x(e.target.value)},autoComplete:"current-password"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"link1",type:"submit",children:S?"Loading...":"Submit"}),f.map((function(e){return Object(o.jsx)("div",{className:"error",children:e},e)}))]})]})};var p=function(e){var t=e.onLogin;return Object(o.jsxs)("div",{className:"page1",children:[Object(o.jsx)("h1",{children:"Welcome to TacoPage"}),Object(o.jsxs)("div",{className:"content2",children:[Object(o.jsx)("span",{className:"blue",children:"TacoPage"})," is a free, quick and easy page builder perfect for:",Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{className:"blue",children:"Temporary websites"}),Object(o.jsx)("li",{className:"blue",children:"Promoting events"}),Object(o.jsx)("li",{className:"blue",children:"Posting information online"})]}),"Just complete a simple form and ",Object(o.jsx)("span",{className:"blue",children:"TacoPage"})," does the rest. See a sample page ",Object(o.jsx)("a",{target:"_blank",href:"/tesla",children:"here."})]}),Object(o.jsx)("hr",{}),Object(o.jsx)(g,{onLogin:t}),Object(o.jsx)(O,{})]})};n(40);var f,v=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(l.f)(),Object(c.useEffect)((function(){fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return a(e)}))}))}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(u,{user:n,setUser:a}),Object(o.jsx)("main",{children:Object(o.jsxs)(l.c,{children:[Object(o.jsxs)(l.a,{path:"/login",children:[Object(o.jsx)(h,{onLogin:a}),";"]}),Object(o.jsxs)(l.a,{path:"/signup",children:[Object(o.jsx)(p,{onLogin:a}),";"]}),Object(o.jsx)(l.a,{path:"/new",children:Object(o.jsx)(x,{user:n})}),Object(o.jsx)(l.a,{path:"/account",children:Object(o.jsx)(m,{user:n})}),Object(o.jsxs)(l.a,{path:"/",children:[Object(o.jsx)(p,{onLogin:a}),";"]})]})})]})},y=n(22),N=Object(y.a)(f||(f=Object(a.a)(['\n  *,\n  *::before, \n  *::after {\n    box-sizing: border-box;\n  }\n\n  html, body {\n    margin: 0;\n  }\n\n  body {\n    font-family: BlinkMacSystemFont,-apple-system,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,Arial,sans-serif;\n  }\n'])));r.a.render(Object(o.jsxs)(j.a,{children:[Object(o.jsx)(N,{}),Object(o.jsx)(v,{})]}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.9648e5a2.chunk.js.map